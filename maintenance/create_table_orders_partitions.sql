CREATE TABLE IF NOT EXISTS orders_partitioned (
  id INT GENERATED BY DEFAULT AS IDENTITY,
  product_name TEXT,
  quantity INTEGER,
  order_date DATE NOT NULL,
  PRIMARY KEY (id, order_date))
  PARTITION BY RANGE (order_date);

CREATE TABLE orders_default_partition PARTITION OF orders_partitioned DEFAULT;

CREATE TABLE orders_202301 PARTITION OF orders_partitioned FOR VALUES FROM ('2023-01-01') TO ('2023-02-01');
CREATE TABLE orders_202302 PARTITION OF orders_partitioned FOR VALUES FROM ('2023-02-01') TO ('2023-03-01');
CREATE TABLE orders_202303 PARTITION OF orders_partitioned FOR VALUES FROM ('2023-03-01') TO ('2023-04-01');
CREATE TABLE orders_202304 PARTITION OF orders_partitioned FOR VALUES FROM ('2023-04-01') TO ('2023-05-01');
CREATE TABLE orders_202305 PARTITION OF orders_partitioned FOR VALUES FROM ('2023-05-01') TO ('2023-06-01');
CREATE TABLE orders_202306 PARTITION OF orders_partitioned FOR VALUES FROM ('2023-06-01') TO ('2023-07-01');
CREATE TABLE orders_202307 PARTITION OF orders_partitioned FOR VALUES FROM ('2023-07-01') TO ('2023-08-01');
CREATE TABLE orders_202308 PARTITION OF orders_partitioned FOR VALUES FROM ('2023-08-01') TO ('2023-09-01');
CREATE TABLE orders_202309 PARTITION OF orders_partitioned FOR VALUES FROM ('2023-09-01') TO ('2023-10-01');
CREATE TABLE orders_202310 PARTITION OF orders_partitioned FOR VALUES FROM ('2023-10-01') TO ('2023-11-01');
CREATE TABLE orders_202311 PARTITION OF orders_partitioned FOR VALUES FROM ('2023-11-01') TO ('2023-12-01');
CREATE TABLE orders_202312 PARTITION OF orders_partitioned FOR VALUES FROM ('2023-12-01') TO ('2024-01-01');

